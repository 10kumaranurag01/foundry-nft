// SPDX-License-Identifier: MIT

pragma solidity 0.8.20;

import {Test, console} from "forge-std/Test.sol";
import {MoodNft} from "src/MoodNft.sol";

contract MoodNftTest is Test {
    MoodNft moodNft;
    string public constant HAPPY_SVG_URI =
        "data:image/svg+xml;base64,PHN2ZyBpZD0iZW1vamkiIHZpZXdCb3g9IjAgMCA3MiA3MiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBpZD0iY29sb3IiPgogICAgPGNpcmNsZSBjeD0iMzYiIGN5PSIzNiIgcj0iMjMiIGZpbGw9IiNmY2VhMmIiLz4KICAgIDxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik01MC41OTUsNDEuNjRhMTEuNTU1NCwxMS41NTU0LDAsMCwxLS44Nyw0LjQ5Yy0xMi40OSwzLjAzLTI1LjQzLjM0LTI3LjQ5LS4xM2ExMS40MzQ3LDExLjQzNDcsMCwwLDEtLjgzLTQuMzZoLjExczE0LjgsMy41OSwyOC44OS4wN1oiLz4KICAgIDxwYXRoIGZpbGw9IiNlYTVhNDciIGQ9Ik00OS43MjUxLDQ2LjEzYy0xLjc5LDQuMjctNi4zNSw3LjIzLTEzLjY5LDcuMjMtNy40MSwwLTEyLjAzLTMuMDMtMTMuOC03LjM2QzI0LjI5NTEsNDYuNDcsMzcuMjM1LDQ5LjE2LDQ5LjcyNTEsNDYuMTNaIi8+CiAgPC9nPgogIDxnIGlkPSJoYWlyIi8+CiAgPGcgaWQ9InNraW4iLz4KICA8ZyBpZD0ic2tpbi1zaGFkb3ciLz4KICA8ZyBpZD0ibGluZSI+CiAgICA8Y2lyY2xlIGN4PSIzNiIgY3k9IjM2IiByPSIyMyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTUwLjU5NSw0MS42NGExMS41NTU0LDExLjU1NTQsMCwwLDEtLjg3LDQuNDljLTEyLjQ5LDMuMDMtMjUuNDMuMzQtMjcuNDktLjEzYTExLjQzNDcsMTEuNDM0NywwLDAsMS0uODMtNC4zNmguMTFzMTQuOCwzLjU5LDI4Ljg5LjA3WiIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTQ5LjcyNTEsNDYuMTNjLTEuNzksNC4yNy02LjM1LDcuMjMtMTMuNjksNy4yMy03LjQxLDAtMTIuMDMtMy4wMy0xMy44LTcuMzZDMjQuMjk1MSw0Ni40NywzNy4yMzUsNDkuMTYsNDkuNzI1MSw0Ni4xM1oiLz4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTMxLjY5NDEsMzIuNDAzNmE0LjcyNjIsNC43MjYyLDAsMCwwLTguNjM4MiwwIi8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik00OC45NDQxLDMyLjQwMzZhNC43MjYyLDQuNzI2MiwwLDAsMC04LjYzODIsMCIvPgogIDwvZz4KPC9zdmc+Cg==";
    string public constant SAD_SVG_URI =
        "data:image/svg+xml;base64,PHN2ZyBpZD0iZW1vamkiIHZpZXdCb3g9IjAgMCA3MiA3MiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBpZD0iY29sb3IiPgogICAgPHBhdGggZmlsbD0iI0ZDRUEyQiIgZD0iTTM2LDEzYy0xMi42ODIzLDAtMjMsMTAuMzE3Ny0yMywyM2MwLDEyLjY4MjIsMTAuMzE3NywyMywyMywyM2MxMi42ODIyLDAsMjMtMTAuMzE3OCwyMy0yMyBDNTksMjMuMzE3Nyw0OC42ODIyLDEzLDM2LDEzeiIvPgogIDwvZz4KICA8ZyBpZD0iaGFpciIvPgogIDxnIGlkPSJza2luIi8+CiAgPGcgaWQ9InNraW4tc2hhZG93Ii8+CiAgPGcgaWQ9ImxpbmUiPgogICAgPGNpcmNsZSBjeD0iMzYiIGN5PSIzNiIgcj0iMjMiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2Utd2lkdGg9IjIiLz4KICAgIDxwYXRoIGQ9Ik0zMCwzMWMwLDEuNjU2OC0xLjM0NDgsMy0zLDNjLTEuNjU1MywwLTMtMS4zNDMzLTMtM2MwLTEuNjU1MiwxLjM0NDctMywzLTNDMjguNjU1MiwyOCwzMCwyOS4zNDQ4LDMwLDMxIi8+CiAgICA8cGF0aCBkPSJNNDgsMzFjMCwxLjY1NjgtMS4zNDQ3LDMtMywzcy0zLTEuMzQzMy0zLTNjMC0xLjY1NTIsMS4zNDQ3LTMsMy0zUzQ4LDI5LjM0NDgsNDgsMzEiLz4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTI4LDQ2YzEuNTgwNS0yLjU1NzUsNC45MDQzLTQuMTM0OSw4LjQyMTEtNC4wMDM4QzM5LjY0OTksNDIuMTE2Niw0Mi41NjIyLDQzLjY1OTUsNDQsNDYiLz4KICA8L2c+Cjwvc3ZnPgo=";
    address public USER = makeAddr("USER");

    function setUp() public {
        moodNft = new MoodNft(SAD_SVG_URI, HAPPY_SVG_URI);
    }

    function testViewTokenURI() public {
        vm.prank(USER);
        moodNft.mintNft();
        console.log(moodNft.tokenURI(0));
    }
}
